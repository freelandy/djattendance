{% load bootstrap3 %}
{% block content %}

<h2>
  {% if locality %}
    {{ locality }} Sending Locality
  {% elif team %}
    {{ team }} Team
  {% endif %}
  Generated Report from {{date_range.0}} to {{date_range.1}}
</h2>

<div>
  <p>Averages (across all trainees)</p>
  <ul>
    <li>Average % Unex. Abs.: {{unexcused_absences_percentage}}</li>
    <li>Average % Tardy: {{tardy_percentage}}</li>
    <li>Average % Sickness: {{sickness_percentage}}</li>
    <li>Average % Classes Missed: {{classes_missed_percentage}}</li>
  </ul>
</div>

<table class="table table-striped">
  <thead><tr>
    <th>Trainee</th>
    <th>TA</th>
    <th>Term</th>
    {% if locality %}
      <th>Team</th>
    {% elif team %}
      <th>Locality</th>
    {% endif %}
    <th>Gender</th>
    <th>% Unex. Abs.</th>
    <th>% Tardy</th>
    <th>% Sickness</th>
    <th>% Classess Missed</th>
  </tr></thead>
  <tbody>
    {% for trainee in trainee_records %}
    <tr>
      <td>{{trainee.name}}</td>
      <td>{{trainee.ta}}</td>
      <td>{{trainee.term}}</td>
      {% if locality %}
        <td>{{trainee.team}}</td>
      {% elif team %}
        <td>{{trainee.sending_locality}}</td>
      {% endif %}
      <td>{{trainee.gender}}</td>
      <td>{{trainee.unexcused_absences_percentage}}</td>
      <td>{{trainee.tardy_percentage}}</td>
      <td>{{trainee.sickness_percentage}}</td>
      <td>{{trainee.classes_missed_percentage}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}