{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% load interim_tags %}

{% block title %}{{ page_title }}{% endblock %}

{% block references %}

<style type="text/css">

	table {
		border-collapse: separate;
		cellspacing: 0;
	}

	.headcol {
		width: 200px;
		position: -webkit-sticky;
	  position: sticky;
	  left: 0px;
	  text-align: center;
	  background-color: #095F80;
	  color: white;
	  z-index: 2;
	}

	.othercol {
		width: 100px;
	}

	.headrow {
		z-index: 1;
		position: -webkit-sticky;
		position: sticky;
		top: 40px;
	}

	td {
		text-align: left;
		width: 100px;
	}

</style>

{% endblock %}

{% block content %}
<h2>{{ page_title }}</h2>
{% if subtitle %}
	<h4>{{ subtitle }}</h4>

{% else %}

	<p>For best functionality, view on Firefox</p>
	<ul class="nav-tabs"></ul>

	<table class="table table-striped table-bordered" style="table-layout: fixed">
		<tr class="headrow">
			<th class="headcol" style="color:#095F80">Trainee</th>
			{% for date in date_list %}
				<th class="othercol">{{date}}</th>
			{% endfor %}
		</tr>

	  {% for trainee in trainees %}
	    <tr>
	      <th class="headcol">{{trainee.name}}</th>
      	{% if trainee.intention.interimitinerary_set.all %}
      		{% for itin in trainee.intention.interimitinerary_set.all %}
      			<td colspan="{{ itin.start|itinerary_length_in_days:itin.end }}">{{itin.comments}}</td>
      		{% endfor %}
    		{% else %}
    			<td colspan="{{interim_length}}"><i>No itinerary specified</i></td>
      	{% endif %}
 			</tr>
	  {% endfor %}
	</table>

{% endif %}

{% endblock %}
